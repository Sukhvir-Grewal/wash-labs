{
    "sourceFile": "pages/admin-services.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1761336016111,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1761336028775,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,12 +68,13 @@\n         const response = await fetch(\"/api/services\");\r\n         if (!response.ok) {\r\n           throw new Error(\"Unable to load services.\");\r\n         }\r\n-        const data = await response.json();\r\n-        const fetched = Array.isArray(data.services) ? data.services : [];\r\n-        setServices(fetched);\r\n-        setInitialServices(fetched);\r\n+  const data = await response.json();\r\n+  const fetched = Array.isArray(data.services) ? data.services : [];\r\n+  const cloned = JSON.parse(JSON.stringify(fetched));\r\n+  setServices(cloned);\r\n+  setInitialServices(cloned);\r\n       } catch (loadError) {\r\n         setError(loadError.message || \"Unable to load services.\");\r\n         setServices([]);\r\n         setInitialServices([]);\r\n@@ -178,10 +179,11 @@\n         throw new Error(data.error || \"Failed to save services.\");\r\n       }\r\n \r\n       const updated = Array.isArray(data.services) ? data.services : services;\r\n-      setServices(updated);\r\n-      setInitialServices(updated);\r\n+      const cloned = JSON.parse(JSON.stringify(updated));\r\n+      setServices(cloned);\r\n+      setInitialServices(cloned);\r\n       setSuccess(\"Services updated successfully.\");\r\n     } catch (saveError) {\r\n       setError(saveError.message || \"Failed to save services.\");\r\n     }\r\n"
                },
                {
                    "date": 1761405101982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,371 @@\n+import { useMemo, useEffect, useState } from \"react\";\r\n+import Link from \"next/link\";\r\n+\r\n+const emptyServiceTemplate = {\r\n+  id: \"\",\r\n+  title: \"\",\r\n+  summary: \"\",\r\n+  basePrice: null,\r\n+  revivePrice: null,\r\n+  durationMinutes: null,\r\n+  comingSoon: false,\r\n+  baseFeatures: [],\r\n+  reviveFeatures: [],\r\n+};\r\n+\r\n+function FeatureListEditor({ label, features, onChange, onAdd, onRemove }) {\r\n+  return (\r\n+    <div className=\"space-y-2\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h4 className=\"text-sm font-semibold text-slate-900\">{label}</h4>\r\n+        <button\r\n+          type=\"button\"\r\n+          onClick={onAdd}\r\n+          className=\"rounded-full border border-blue-200 px-3 py-1 text-xs font-semibold text-blue-600 hover:bg-blue-50\"\r\n+        >\r\n+          + Add item\r\n+        </button>\r\n+      </div>\r\n+      {features.length === 0 && (\r\n+        <p className=\"text-xs text-blue-500\">No items yet. Add one above.</p>\r\n+      )}\r\n+      <div className=\"space-y-2\">\r\n+        {features.map((feature, index) => (\r\n+          <div key={`${label}-${index}`} className=\"flex items-start gap-2\">\r\n+            <textarea\r\n+              value={feature}\r\n+              onChange={(event) => onChange(index, event.target.value)}\r\n+              rows={2}\r\n+              placeholder=\"Add bullet point\"\r\n+              className=\"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+            />\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={() => onRemove(index)}\r\n+              className=\"rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50\"\r\n+            >\r\n+              Remove\r\n+            </button>\r\n+          </div>\r\n+        ))}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function AdminServicesPage() {\r\n+  const [services, setServices] = useState([]);\r\n+  const [initialServices, setInitialServices] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [saving, setSaving] = useState(false);\r\n+  const [error, setError] = useState(\"\");\r\n+  const [success, setSuccess] = useState(\"\");\r\n+\r\n+  useEffect(() => {\r\n+    async function loadServices() {\r\n+      setLoading(true);\r\n+      setError(\"\");\r\n+      try {\r\n+        const response = await fetch(\"/api/services\");\r\n+        if (!response.ok) {\r\n+          throw new Error(\"Unable to load services.\");\r\n+        }\r\n+  const data = await response.json();\r\n+  const fetched = Array.isArray(data.services) ? data.services : [];\r\n+  const cloned = JSON.parse(JSON.stringify(fetched));\r\n+  setServices(cloned);\r\n+  setInitialServices(cloned);\r\n+      } catch (loadError) {\r\n+        setError(loadError.message || \"Unable to load services.\");\r\n+        setServices([]);\r\n+        setInitialServices([]);\r\n+      }\r\n+      setLoading(false);\r\n+    }\r\n+\r\n+    loadServices();\r\n+  }, []);\r\n+\r\n+  const hasChanges = useMemo(() => {\r\n+    return JSON.stringify(services) !== JSON.stringify(initialServices);\r\n+  }, [services, initialServices]);\r\n+\r\n+  const handleServiceChange = (index, key, value) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) =>\r\n+        svcIndex === index\r\n+          ? {\r\n+              ...service,\r\n+              [key]: value,\r\n+            }\r\n+          : service\r\n+      )\r\n+    );\r\n+  };\r\n+\r\n+  const handleNumberChange = (index, key, value) => {\r\n+    handleServiceChange(index, key, value === \"\" ? \"\" : Number(value));\r\n+  };\r\n+\r\n+  const handleFeatureChange = (index, field, featureIndex, value) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list[featureIndex] = value;\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleFeatureAdd = (index, field) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list.push(\"\");\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleFeatureRemove = (index, field, featureIndex) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list.splice(featureIndex, 1);\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleReset = () => {\r\n+    setServices(initialServices);\r\n+    setError(\"\");\r\n+    setSuccess(\"\");\r\n+  };\r\n+\r\n+  const handleAddNewService = () => {\r\n+    setServices((prev) => [...prev, { ...emptyServiceTemplate, id: `service-${prev.length + 1}` }]);\r\n+  };\r\n+\r\n+  const handleDeleteService = (index) => {\r\n+    setServices((prev) => prev.filter((_, svcIndex) => svcIndex !== index));\r\n+  };\r\n+\r\n+  const handleSave = async () => {\r\n+    setSaving(true);\r\n+    setError(\"\");\r\n+    setSuccess(\"\");\r\n+    try {\r\n+      const response = await fetch(\"/api/services\", {\r\n+        method: \"PUT\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ services }),\r\n+      });\r\n+\r\n+      const data = await response.json().catch(() => ({}));\r\n+\r\n+      if (!response.ok) {\r\n+        throw new Error(data.error || \"Failed to save services.\");\r\n+      }\r\n+\r\n+      const updated = Array.isArray(data.services) ? data.services : services;\r\n+      const cloned = JSON.parse(JSON.stringify(updated));\r\n+      setServices(cloned);\r\n+      setInitialServices(cloned);\r\n+      setSuccess(\"Services updated successfully.\");\r\n+    } catch (saveError) {\r\n+      setError(saveError.message || \"Failed to save services.\");\r\n+    }\r\n+    setSaving(false);\r\n+  };\r\n+\r\n+  return (\r\n+    <main className=\"min-h-screen bg-blue-50 px-4 py-10 text-blue-900\">\r\n+      <div className=\"mx-auto flex max-w-5xl flex-col gap-8\">\r\n+        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n+          <div className=\"flex items-center gap-3\">\r\n+            <Link\r\n+              href=\"/adminDashboard\"\r\n+              className=\"rounded-lg border border-blue-200 bg-white px-4 py-2 text-sm font-semibold text-blue-700 shadow-sm transition-colors hover:bg-blue-50\"\r\n+            >\r\n+              ← Back to Dashboard\r\n+            </Link>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleAddNewService}\r\n+              className=\"rounded-lg border border-green-200 bg-green-50 px-4 py-2 text-sm font-semibold text-green-700 transition-colors hover:bg-green-100\"\r\n+            >\r\n+              Add New Service\r\n+            </button>\r\n+          </div>\r\n+          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleReset}\r\n+              disabled={!hasChanges || saving}\r\n+              className=\"rounded-lg border border-blue-200 px-4 py-2 text-sm font-semibold text-blue-600 transition-colors hover:bg-blue-50 disabled:cursor-not-allowed disabled:opacity-50\"\r\n+            >\r\n+              Reset\r\n+            </button>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleSave}\r\n+              disabled={!hasChanges || saving}\r\n+              className=\"rounded-lg bg-blue-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50\"\r\n+            >\r\n+              {saving ? \"Saving...\" : \"Save Changes\"}\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        <header className=\"rounded-2xl border border-blue-200 bg-gradient-to-r from-blue-50 via-white to-blue-50 p-6 shadow\">\r\n+          <h1 className=\"text-2xl font-bold text-slate-900\">\r\n+            Services & Pricing Editor\r\n+          </h1>\r\n+          <p className=\"mt-2 text-sm text-blue-700\">\r\n+            Update prices, toggle availability, and adjust bullet points for each plan. Changes are saved directly to\r\n+            <code className=\"ml-1 rounded bg-blue-100 px-2 py-0.5 text-xs text-blue-800\">data/services.js</code>.\r\n+          </p>\r\n+          {error && <div className=\"mt-3 rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700\">{error}</div>}\r\n+          {success && <div className=\"mt-3 rounded-lg border border-green-200 bg-green-50 px-4 py-2 text-sm text-green-700\">{success}</div>}\r\n+        </header>\r\n+\r\n+        {loading ? (\r\n+          <div className=\"rounded-2xl border border-blue-200 bg-white p-10 text-center text-blue-600 shadow\">\r\n+            Loading services...\r\n+          </div>\r\n+        ) : services.length === 0 ? (\r\n+          <div className=\"rounded-2xl border border-blue-200 bg-white p-10 text-center text-blue-600 shadow\">\r\n+            No services found. Add a new service to get started.\r\n+          </div>\r\n+        ) : (\r\n+          <div className=\"space-y-8\">\r\n+            {services.map((service, index) => (\r\n+              <section key={service.id || index} className=\"rounded-2xl border border-blue-100 bg-white/90 p-6 shadow transition-shadow hover:shadow-lg\">\r\n+                <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\r\n+                  <div className=\"flex-1 space-y-2\">\r\n+                    <span className=\"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-700\">\r\n+                      {service.id || \"New service\"}\r\n+                    </span>\r\n+                    <h2 className=\"text-xl font-semibold text-slate-900\">\r\n+                      {service.title || \"Untitled Service\"}\r\n+                    </h2>\r\n+                  </div>\r\n+                  <div className=\"space-y-4 sm:flex-1\">\r\n+                    <div className=\"grid gap-3 sm:grid-cols-2\">\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Service ID\r\n+                        <input\r\n+                          type=\"text\"\r\n+                          value={service.id}\r\n+                          onChange={(event) => handleServiceChange(index, \"id\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Title\r\n+                        <input\r\n+                          type=\"text\"\r\n+                          value={service.title || \"\"}\r\n+                          onChange={(event) => handleServiceChange(index, \"title\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900 sm:col-span-2\">\r\n+                        Summary\r\n+                        <textarea\r\n+                          value={service.summary || \"\"}\r\n+                          onChange={(event) => handleServiceChange(index, \"summary\", event.target.value)}\r\n+                          rows={3}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Base Price\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"1\"\r\n+                          value={service.basePrice ?? \"\"}\r\n+                          onChange={(event) => handleNumberChange(index, \"basePrice\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Revive Price\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"1\"\r\n+                          value={service.revivePrice ?? \"\"}\r\n+                          onChange={(event) => handleNumberChange(index, \"revivePrice\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Duration (minutes)\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"15\"\r\n+                          value={service.durationMinutes ?? \"\"}\r\n+                          onChange={(event) => handleNumberChange(index, \"durationMinutes\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                    </div>\r\n+                    <label className=\"flex items-center gap-2 text-sm font-semibold text-slate-900\">\r\n+                      <input\r\n+                        type=\"checkbox\"\r\n+                        checked={Boolean(service.comingSoon)}\r\n+                        onChange={(event) => handleServiceChange(index, \"comingSoon\", event.target.checked)}\r\n+                        className=\"h-4 w-4 rounded border border-blue-300 text-blue-600 focus:ring-blue-500\"\r\n+                      />\r\n+                      Coming soon (hide from booking form)\r\n+                    </label>\r\n+                  </div>\r\n+                  <button\r\n+                    type=\"button\"\r\n+                    onClick={() => handleDeleteService(index)}\r\n+                    className=\"self-start rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50\"\r\n+                  >\r\n+                    Delete service\r\n+                  </button>\r\n+                </div>\r\n+\r\n+                <div className=\"mt-6 grid gap-6 md:grid-cols-2\">\r\n+                  <FeatureListEditor\r\n+                    label=\"Base Plan Features\"\r\n+                    features={service.baseFeatures || []}\r\n+                    onChange={(featureIndex, value) => handleFeatureChange(index, \"baseFeatures\", featureIndex, value)}\r\n+                    onAdd={() => handleFeatureAdd(index, \"baseFeatures\")}\r\n+                    onRemove={(featureIndex) => handleFeatureRemove(index, \"baseFeatures\", featureIndex)}\r\n+                  />\r\n+                  <FeatureListEditor\r\n+                    label=\"Revive Plan Features\"\r\n+                    features={service.reviveFeatures || []}\r\n+                    onChange={(featureIndex, value) => handleFeatureChange(index, \"reviveFeatures\", featureIndex, value)}\r\n+                    onAdd={() => handleFeatureAdd(index, \"reviveFeatures\")}\r\n+                    onRemove={(featureIndex) => handleFeatureRemove(index, \"reviveFeatures\", featureIndex)}\r\n+                  />\r\n+                </div>\r\n+              </section>\r\n+            ))}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </main>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1761450522623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,371 @@\n+import { useMemo, useEffect, useState } from \"react\";\r\n+import Link from \"next/link\";\r\n+\r\n+const emptyServiceTemplate = {\r\n+  id: \"\",\r\n+  title: \"\",\r\n+  summary: \"\",\r\n+  basePrice: null,\r\n+  revivePrice: null,\r\n+  durationMinutes: null,\r\n+  comingSoon: false,\r\n+  baseFeatures: [],\r\n+  reviveFeatures: [],\r\n+};\r\n+\r\n+function FeatureListEditor({ label, features, onChange, onAdd, onRemove }) {\r\n+  return (\r\n+    <div className=\"space-y-2\">\r\n+      <div className=\"flex items-center justify-between\">\r\n+        <h4 className=\"text-sm font-semibold text-slate-900\">{label}</h4>\r\n+        <button\r\n+          type=\"button\"\r\n+          onClick={onAdd}\r\n+          className=\"rounded-full border border-blue-200 px-3 py-1 text-xs font-semibold text-blue-600 hover:bg-blue-50\"\r\n+        >\r\n+          + Add item\r\n+        </button>\r\n+      </div>\r\n+      {features.length === 0 && (\r\n+        <p className=\"text-xs text-blue-500\">No items yet. Add one above.</p>\r\n+      )}\r\n+      <div className=\"space-y-2\">\r\n+        {features.map((feature, index) => (\r\n+          <div key={`${label}-${index}`} className=\"flex items-start gap-2\">\r\n+            <textarea\r\n+              value={feature}\r\n+              onChange={(event) => onChange(index, event.target.value)}\r\n+              rows={2}\r\n+              placeholder=\"Add bullet point\"\r\n+              className=\"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+            />\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={() => onRemove(index)}\r\n+              className=\"rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50\"\r\n+            >\r\n+              Remove\r\n+            </button>\r\n+          </div>\r\n+        ))}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function AdminServicesPage() {\r\n+  const [services, setServices] = useState([]);\r\n+  const [initialServices, setInitialServices] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [saving, setSaving] = useState(false);\r\n+  const [error, setError] = useState(\"\");\r\n+  const [success, setSuccess] = useState(\"\");\r\n+\r\n+  useEffect(() => {\r\n+    async function loadServices() {\r\n+      setLoading(true);\r\n+      setError(\"\");\r\n+      try {\r\n+        const response = await fetch(\"/api/services\");\r\n+        if (!response.ok) {\r\n+          throw new Error(\"Unable to load services.\");\r\n+        }\r\n+  const data = await response.json();\r\n+  const fetched = Array.isArray(data.services) ? data.services : [];\r\n+  const cloned = JSON.parse(JSON.stringify(fetched));\r\n+  setServices(cloned);\r\n+  setInitialServices(cloned);\r\n+      } catch (loadError) {\r\n+        setError(loadError.message || \"Unable to load services.\");\r\n+        setServices([]);\r\n+        setInitialServices([]);\r\n+      }\r\n+      setLoading(false);\r\n+    }\r\n+\r\n+    loadServices();\r\n+  }, []);\r\n+\r\n+  const hasChanges = useMemo(() => {\r\n+    return JSON.stringify(services) !== JSON.stringify(initialServices);\r\n+  }, [services, initialServices]);\r\n+\r\n+  const handleServiceChange = (index, key, value) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) =>\r\n+        svcIndex === index\r\n+          ? {\r\n+              ...service,\r\n+              [key]: value,\r\n+            }\r\n+          : service\r\n+      )\r\n+    );\r\n+  };\r\n+\r\n+  const handleNumberChange = (index, key, value) => {\r\n+    handleServiceChange(index, key, value === \"\" ? \"\" : Number(value));\r\n+  };\r\n+\r\n+  const handleFeatureChange = (index, field, featureIndex, value) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list[featureIndex] = value;\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleFeatureAdd = (index, field) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list.push(\"\");\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleFeatureRemove = (index, field, featureIndex) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list.splice(featureIndex, 1);\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleReset = () => {\r\n+    setServices(initialServices);\r\n+    setError(\"\");\r\n+    setSuccess(\"\");\r\n+  };\r\n+\r\n+  const handleAddNewService = () => {\r\n+    setServices((prev) => [...prev, { ...emptyServiceTemplate, id: `service-${prev.length + 1}` }]);\r\n+  };\r\n+\r\n+  const handleDeleteService = (index) => {\r\n+    setServices((prev) => prev.filter((_, svcIndex) => svcIndex !== index));\r\n+  };\r\n+\r\n+  const handleSave = async () => {\r\n+    setSaving(true);\r\n+    setError(\"\");\r\n+    setSuccess(\"\");\r\n+    try {\r\n+      const response = await fetch(\"/api/services\", {\r\n+        method: \"PUT\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ services }),\r\n+      });\r\n+\r\n+      const data = await response.json().catch(() => ({}));\r\n+\r\n+      if (!response.ok) {\r\n+        throw new Error(data.error || \"Failed to save services.\");\r\n+      }\r\n+\r\n+      const updated = Array.isArray(data.services) ? data.services : services;\r\n+      const cloned = JSON.parse(JSON.stringify(updated));\r\n+      setServices(cloned);\r\n+      setInitialServices(cloned);\r\n+      setSuccess(\"Services updated successfully.\");\r\n+    } catch (saveError) {\r\n+      setError(saveError.message || \"Failed to save services.\");\r\n+    }\r\n+    setSaving(false);\r\n+  };\r\n+\r\n+  return (\r\n+    <main className=\"min-h-screen bg-blue-50 px-4 py-10 text-blue-900\">\r\n+      <div className=\"mx-auto flex max-w-5xl flex-col gap-8\">\r\n+        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n+          <div className=\"flex items-center gap-3\">\r\n+            <Link\r\n+              href=\"/adminDashboard\"\r\n+              className=\"rounded-lg border border-blue-200 bg-white px-4 py-2 text-sm font-semibold text-blue-700 shadow-sm transition-colors hover:bg-blue-50\"\r\n+            >\r\n+              ← Back to Dashboard\r\n+            </Link>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleAddNewService}\r\n+              className=\"rounded-lg border border-green-200 bg-green-50 px-4 py-2 text-sm font-semibold text-green-700 transition-colors hover:bg-green-100\"\r\n+            >\r\n+              Add New Service\r\n+            </button>\r\n+          </div>\r\n+          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleReset}\r\n+              disabled={!hasChanges || saving}\r\n+              className=\"rounded-lg border border-blue-200 px-4 py-2 text-sm font-semibold text-blue-600 transition-colors hover:bg-blue-50 disabled:cursor-not-allowed disabled:opacity-50\"\r\n+            >\r\n+              Reset\r\n+            </button>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleSave}\r\n+              disabled={!hasChanges || saving}\r\n+              className=\"rounded-lg bg-blue-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50\"\r\n+            >\r\n+              {saving ? \"Saving...\" : \"Save Changes\"}\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        <header className=\"rounded-2xl border border-blue-200 bg-gradient-to-r from-blue-50 via-white to-blue-50 p-6 shadow\">\r\n+          <h1 className=\"text-2xl font-bold text-slate-900\">\r\n+            Services & Pricing Editor\r\n+          </h1>\r\n+          <p className=\"mt-2 text-sm text-blue-700\">\r\n+            Update prices, toggle availability, and adjust bullet points for each plan. Changes are saved directly to\r\n+            <code className=\"ml-1 rounded bg-blue-100 px-2 py-0.5 text-xs text-blue-800\">MongoDB (services collection)</code>.\r\n+          </p>\r\n+          {error && <div className=\"mt-3 rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700\">{error}</div>}\r\n+          {success && <div className=\"mt-3 rounded-lg border border-green-200 bg-green-50 px-4 py-2 text-sm text-green-700\">{success}</div>}\r\n+        </header>\r\n+\r\n+        {loading ? (\r\n+          <div className=\"rounded-2xl border border-blue-200 bg-white p-10 text-center text-blue-600 shadow\">\r\n+            Loading services...\r\n+          </div>\r\n+        ) : services.length === 0 ? (\r\n+          <div className=\"rounded-2xl border border-blue-200 bg-white p-10 text-center text-blue-600 shadow\">\r\n+            No services found. Add a new service to get started.\r\n+          </div>\r\n+        ) : (\r\n+          <div className=\"space-y-8\">\r\n+            {services.map((service, index) => (\r\n+              <section key={service.id || index} className=\"rounded-2xl border border-blue-100 bg-white/90 p-6 shadow transition-shadow hover:shadow-lg\">\r\n+                <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\r\n+                  <div className=\"flex-1 space-y-2\">\r\n+                    <span className=\"inline-flex items-center rounded-full bg-blue-100 px-3 py-1 text-xs font-semibold text-blue-700\">\r\n+                      {service.id || \"New service\"}\r\n+                    </span>\r\n+                    <h2 className=\"text-xl font-semibold text-slate-900\">\r\n+                      {service.title || \"Untitled Service\"}\r\n+                    </h2>\r\n+                  </div>\r\n+                  <div className=\"space-y-4 sm:flex-1\">\r\n+                    <div className=\"grid gap-3 sm:grid-cols-2\">\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Service ID\r\n+                        <input\r\n+                          type=\"text\"\r\n+                          value={service.id}\r\n+                          onChange={(event) => handleServiceChange(index, \"id\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Title\r\n+                        <input\r\n+                          type=\"text\"\r\n+                          value={service.title || \"\"}\r\n+                          onChange={(event) => handleServiceChange(index, \"title\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900 sm:col-span-2\">\r\n+                        Summary\r\n+                        <textarea\r\n+                          value={service.summary || \"\"}\r\n+                          onChange={(event) => handleServiceChange(index, \"summary\", event.target.value)}\r\n+                          rows={3}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Base Price\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"1\"\r\n+                          value={service.basePrice ?? \"\"}\r\n+                          onChange={(event) => handleNumberChange(index, \"basePrice\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Revive Price\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"1\"\r\n+                          value={service.revivePrice ?? \"\"}\r\n+                          onChange={(event) => handleNumberChange(index, \"revivePrice\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                      <label className=\"text-sm font-semibold text-slate-900\">\r\n+                        Duration (minutes)\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"15\"\r\n+                          value={service.durationMinutes ?? \"\"}\r\n+                          onChange={(event) => handleNumberChange(index, \"durationMinutes\", event.target.value)}\r\n+                          className=\"mt-1 w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-400\"\r\n+                        />\r\n+                      </label>\r\n+                    </div>\r\n+                    <label className=\"flex items-center gap-2 text-sm font-semibold text-slate-900\">\r\n+                      <input\r\n+                        type=\"checkbox\"\r\n+                        checked={Boolean(service.comingSoon)}\r\n+                        onChange={(event) => handleServiceChange(index, \"comingSoon\", event.target.checked)}\r\n+                        className=\"h-4 w-4 rounded border border-blue-300 text-blue-600 focus:ring-blue-500\"\r\n+                      />\r\n+                      Coming soon (hide from booking form)\r\n+                    </label>\r\n+                  </div>\r\n+                  <button\r\n+                    type=\"button\"\r\n+                    onClick={() => handleDeleteService(index)}\r\n+                    className=\"self-start rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50\"\r\n+                  >\r\n+                    Delete service\r\n+                  </button>\r\n+                </div>\r\n+\r\n+                <div className=\"mt-6 grid gap-6 md:grid-cols-2\">\r\n+                  <FeatureListEditor\r\n+                    label=\"Base Plan Features\"\r\n+                    features={service.baseFeatures || []}\r\n+                    onChange={(featureIndex, value) => handleFeatureChange(index, \"baseFeatures\", featureIndex, value)}\r\n+                    onAdd={() => handleFeatureAdd(index, \"baseFeatures\")}\r\n+                    onRemove={(featureIndex) => handleFeatureRemove(index, \"baseFeatures\", featureIndex)}\r\n+                  />\r\n+                  <FeatureListEditor\r\n+                    label=\"Revive Plan Features\"\r\n+                    features={service.reviveFeatures || []}\r\n+                    onChange={(featureIndex, value) => handleFeatureChange(index, \"reviveFeatures\", featureIndex, value)}\r\n+                    onAdd={() => handleFeatureAdd(index, \"reviveFeatures\")}\r\n+                    onRemove={(featureIndex) => handleFeatureRemove(index, \"reviveFeatures\", featureIndex)}\r\n+                  />\r\n+                </div>\r\n+              </section>\r\n+            ))}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </main>\r\n+  );\r\n+}\r\n"
                },
                {
                    "date": 1761452076972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,371 @@\n+import { useMemo, useEffect, useState } from \"react\";\r\n+import Link from \"next/link\";\r\n+\r\n+const emptyServiceTemplate = {\r\n+  id: \"\",\r\n+  title: \"\",\r\n+  summary: \"\",\r\n+  basePrice: null,\r\n+  revivePrice: null,\r\n+  durationMinutes: null,\r\n+  comingSoon: false,\r\n+  baseFeatures: [],\r\n+  reviveFeatures: [],\r\n+};\r\n+\r\n+function FeatureListEditor({ label, features, onChange, onAdd, onRemove }) {\r\n+  return (\r\n+    <div style={{ background: '#F8FAFC', borderRadius: 16, padding: 20, marginBottom: 8, border: '1px solid #E0E7EF' }}>\r\n+      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: 8 }}>\r\n+        <h4 style={{ fontSize: 16, fontWeight: 600, color: '#1E293B', margin: 0 }}>{label}</h4>\r\n+        <button\r\n+          type=\"button\"\r\n+          onClick={onAdd}\r\n+          style={{ borderRadius: 20, border: '1px solid #60A5FA', padding: '6px 16px', fontSize: 13, fontWeight: 600, color: '#2563EB', background: '#EFF6FF', cursor: 'pointer' }}\r\n+        >\r\n+          + Add item\r\n+        </button>\r\n+      </div>\r\n+      {features.length === 0 && (\r\n+        <p style={{ fontSize: 13, color: '#2563EB', margin: 0 }}>No items yet. Add one above.</p>\r\n+      )}\r\n+      <div style={{ display: 'flex', flexDirection: 'column', gap: 10 }}>\r\n+        {features.map((feature, index) => (\r\n+          <div key={`${label}-${index}`} style={{ display: 'flex', alignItems: 'flex-start', gap: 8 }}>\r\n+            <textarea\r\n+              value={feature}\r\n+              onChange={(event) => onChange(index, event.target.value)}\r\n+              rows={2}\r\n+              placeholder=\"Add bullet point\"\r\n+              style={{ flex: 1, borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: 10, fontSize: 14, color: '#1E293B', resize: 'vertical', minHeight: 40, maxHeight: 80 }}\r\n+            />\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={() => onRemove(index)}\r\n+              style={{ borderRadius: 8, border: '1px solid #FCA5A5', padding: '8px 12px', fontSize: 13, fontWeight: 600, color: '#DC2626', background: '#FEF2F2', cursor: 'pointer', marginTop: 2 }}\r\n+            >\r\n+              Remove\r\n+            </button>\r\n+          </div>\r\n+        ))}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function AdminServicesPage() {\r\n+  const [services, setServices] = useState([]);\r\n+  const [initialServices, setInitialServices] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [saving, setSaving] = useState(false);\r\n+  const [error, setError] = useState(\"\");\r\n+  const [success, setSuccess] = useState(\"\");\r\n+\r\n+  useEffect(() => {\r\n+    async function loadServices() {\r\n+      setLoading(true);\r\n+      setError(\"\");\r\n+      try {\r\n+        const response = await fetch(\"/api/services\");\r\n+        if (!response.ok) {\r\n+          throw new Error(\"Unable to load services.\");\r\n+        }\r\n+  const data = await response.json();\r\n+  const fetched = Array.isArray(data.services) ? data.services : [];\r\n+  const cloned = JSON.parse(JSON.stringify(fetched));\r\n+  setServices(cloned);\r\n+  setInitialServices(cloned);\r\n+      } catch (loadError) {\r\n+        setError(loadError.message || \"Unable to load services.\");\r\n+        setServices([]);\r\n+        setInitialServices([]);\r\n+      }\r\n+      setLoading(false);\r\n+    }\r\n+\r\n+    loadServices();\r\n+  }, []);\r\n+\r\n+  const hasChanges = useMemo(() => {\r\n+    return JSON.stringify(services) !== JSON.stringify(initialServices);\r\n+  }, [services, initialServices]);\r\n+\r\n+  const handleServiceChange = (index, key, value) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) =>\r\n+        svcIndex === index\r\n+          ? {\r\n+              ...service,\r\n+              [key]: value,\r\n+            }\r\n+          : service\r\n+      )\r\n+    );\r\n+  };\r\n+\r\n+  const handleNumberChange = (index, key, value) => {\r\n+    handleServiceChange(index, key, value === \"\" ? \"\" : Number(value));\r\n+  };\r\n+\r\n+  const handleFeatureChange = (index, field, featureIndex, value) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list[featureIndex] = value;\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleFeatureAdd = (index, field) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list.push(\"\");\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleFeatureRemove = (index, field, featureIndex) => {\r\n+    setServices((prev) =>\r\n+      prev.map((service, svcIndex) => {\r\n+        if (svcIndex !== index) return service;\r\n+        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n+        list.splice(featureIndex, 1);\r\n+        return {\r\n+          ...service,\r\n+          [field]: list,\r\n+        };\r\n+      })\r\n+    );\r\n+  };\r\n+\r\n+  const handleReset = () => {\r\n+    setServices(initialServices);\r\n+    setError(\"\");\r\n+    setSuccess(\"\");\r\n+  };\r\n+\r\n+  const handleAddNewService = () => {\r\n+    setServices((prev) => [...prev, { ...emptyServiceTemplate, id: `service-${prev.length + 1}` }]);\r\n+  };\r\n+\r\n+  const handleDeleteService = (index) => {\r\n+    setServices((prev) => prev.filter((_, svcIndex) => svcIndex !== index));\r\n+  };\r\n+\r\n+  const handleSave = async () => {\r\n+    setSaving(true);\r\n+    setError(\"\");\r\n+    setSuccess(\"\");\r\n+    try {\r\n+      const response = await fetch(\"/api/services\", {\r\n+        method: \"PUT\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify({ services }),\r\n+      });\r\n+\r\n+      const data = await response.json().catch(() => ({}));\r\n+\r\n+      if (!response.ok) {\r\n+        throw new Error(data.error || \"Failed to save services.\");\r\n+      }\r\n+\r\n+      const updated = Array.isArray(data.services) ? data.services : services;\r\n+      const cloned = JSON.parse(JSON.stringify(updated));\r\n+      setServices(cloned);\r\n+      setInitialServices(cloned);\r\n+      setSuccess(\"Services updated successfully.\");\r\n+    } catch (saveError) {\r\n+      setError(saveError.message || \"Failed to save services.\");\r\n+    }\r\n+    setSaving(false);\r\n+  };\r\n+\r\n+  return (\r\n+    <main style={{ minHeight: '100vh', background: 'linear-gradient(180deg, #EFF6FF 0%, #FFFFFF 100%)', padding: '32px 0', color: '#1E293B' }}>\r\n+      <div style={{ maxWidth: 900, margin: '0 auto', padding: '0 16px', display: 'flex', flexDirection: 'column', gap: 40 }}>\r\n+        {/* Top Bar */}\r\n+        <div style={{ display: 'flex', flexDirection: 'column', gap: 16, marginBottom: 8, alignItems: 'stretch', justifyContent: 'space-between' }}>\r\n+          <div style={{ display: 'flex', flexDirection: 'row', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\r\n+            <Link\r\n+              href=\"/adminDashboard\"\r\n+              style={{ borderRadius: 8, border: '1px solid #BFDBFE', background: '#FFFFFF', padding: '10px 20px', fontSize: 15, fontWeight: 600, color: '#2563EB', boxShadow: '0 1px 4px #e0e7ef33', textDecoration: 'none', transition: 'background 0.2s' }}\r\n+            >\r\n+              ← Back to Dashboard\r\n+            </Link>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleAddNewService}\r\n+              style={{ borderRadius: 8, border: '1px solid #BBF7D0', background: '#ECFDF5', padding: '10px 20px', fontSize: 15, fontWeight: 600, color: '#059669', cursor: 'pointer', transition: 'background 0.2s' }}\r\n+            >\r\n+              Add New Service\r\n+            </button>\r\n+          </div>\r\n+          <div style={{ display: 'flex', flexDirection: 'row', gap: 12, alignItems: 'center', flexWrap: 'wrap' }}>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleReset}\r\n+              disabled={!hasChanges || saving}\r\n+              style={{ borderRadius: 8, border: '1px solid #BFDBFE', background: '#FFFFFF', padding: '10px 20px', fontSize: 15, fontWeight: 600, color: '#2563EB', opacity: !hasChanges || saving ? 0.5 : 1, cursor: !hasChanges || saving ? 'not-allowed' : 'pointer', transition: 'background 0.2s' }}\r\n+            >\r\n+              Reset\r\n+            </button>\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={handleSave}\r\n+              disabled={!hasChanges || saving}\r\n+              style={{ borderRadius: 8, background: '#2563EB', padding: '10px 28px', fontSize: 15, fontWeight: 600, color: '#FFFFFF', boxShadow: '0 1px 4px #2563eb22', opacity: !hasChanges || saving ? 0.5 : 1, cursor: !hasChanges || saving ? 'not-allowed' : 'pointer', transition: 'background 0.2s' }}\r\n+            >\r\n+              {saving ? 'Saving...' : 'Save Changes'}\r\n+            </button>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Header */}\r\n+        <header style={{ borderRadius: 20, border: '1px solid #BFDBFE', background: 'linear-gradient(90deg, #EFF6FF 0%, #FFFFFF 100%)', padding: 32, boxShadow: '0 2px 8px #e0e7ef22' }}>\r\n+          <h1 style={{ fontSize: 28, fontWeight: 700, color: '#0A0A0A', margin: 0 }}>Services & Pricing Editor</h1>\r\n+          <p style={{ marginTop: 10, fontSize: 16, color: '#2563EB' }}>\r\n+            Update prices, toggle availability, and adjust bullet points for each plan. Changes are saved directly to\r\n+            <code style={{ marginLeft: 8, borderRadius: 6, background: '#DBEAFE', padding: '2px 8px', fontSize: 13, color: '#1E40AF' }}>MongoDB (services collection)</code>.\r\n+          </p>\r\n+          {error && <div style={{ marginTop: 16, borderRadius: 8, border: '1px solid #FCA5A5', background: '#FEF2F2', padding: '10px 18px', fontSize: 15, color: '#DC2626' }}>{error}</div>}\r\n+          {success && <div style={{ marginTop: 16, borderRadius: 8, border: '1px solid #BBF7D0', background: '#ECFDF5', padding: '10px 18px', fontSize: 15, color: '#059669' }}>{success}</div>}\r\n+        </header>\r\n+\r\n+        {/* Main Content */}\r\n+        {loading ? (\r\n+          <div style={{ borderRadius: 20, border: '1px solid #BFDBFE', background: '#FFFFFF', padding: 40, textAlign: 'center', color: '#2563EB', fontSize: 18, boxShadow: '0 1px 4px #e0e7ef33' }}>\r\n+            Loading services...\r\n+          </div>\r\n+        ) : services.length === 0 ? (\r\n+          <div style={{ borderRadius: 20, border: '1px solid #BFDBFE', background: '#FFFFFF', padding: 40, textAlign: 'center', color: '#2563EB', fontSize: 18, boxShadow: '0 1px 4px #e0e7ef33' }}>\r\n+            No services found. Add a new service to get started.\r\n+          </div>\r\n+        ) : (\r\n+          <div style={{ display: 'flex', flexDirection: 'column', gap: 36 }}>\r\n+            {services.map((service, index) => (\r\n+              <section key={service.id || index} style={{ borderRadius: 20, border: '1px solid #E0E7EF', background: '#FFFFFFF7', padding: 28, boxShadow: '0 2px 8px #e0e7ef22', transition: 'box-shadow 0.2s' }}>\r\n+                <div style={{ display: 'flex', flexDirection: 'column', gap: 24, marginBottom: 8 }}>\r\n+                  <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center', gap: 16, flexWrap: 'wrap' }}>\r\n+                    <span style={{ display: 'inline-flex', alignItems: 'center', borderRadius: 16, background: '#DBEAFE', padding: '6px 16px', fontSize: 13, fontWeight: 600, color: '#2563EB' }}>\r\n+                      {service.id || 'New service'}\r\n+                    </span>\r\n+                    <h2 style={{ fontSize: 22, fontWeight: 600, color: '#0A0A0A', margin: 0 }}>\r\n+                      {service.title || 'Untitled Service'}\r\n+                    </h2>\r\n+                    <button\r\n+                      type=\"button\"\r\n+                      onClick={() => handleDeleteService(index)}\r\n+                      style={{ marginLeft: 'auto', borderRadius: 8, border: '1px solid #FCA5A5', padding: '8px 16px', fontSize: 14, fontWeight: 600, color: '#DC2626', background: '#FEF2F2', cursor: 'pointer' }}\r\n+                    >\r\n+                      Delete service\r\n+                    </button>\r\n+                  </div>\r\n+                  <div style={{ display: 'flex', flexDirection: 'column', gap: 18 }}>\r\n+                    <div style={{ display: 'grid', gap: 18, gridTemplateColumns: '1fr', maxWidth: 900 }}>\r\n+                      <label style={{ fontSize: 15, fontWeight: 600, color: '#1E293B', display: 'block' }}>\r\n+                        Service ID\r\n+                        <input\r\n+                          type=\"text\"\r\n+                          value={service.id}\r\n+                          onChange={(event) => handleServiceChange(index, 'id', event.target.value)}\r\n+                          style={{ marginTop: 6, width: '100%', borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: '10px 12px', fontSize: 15, color: '#1E293B' }}\r\n+                        />\r\n+                      </label>\r\n+                      <label style={{ fontSize: 15, fontWeight: 600, color: '#1E293B', display: 'block' }}>\r\n+                        Title\r\n+                        <input\r\n+                          type=\"text\"\r\n+                          value={service.title || ''}\r\n+                          onChange={(event) => handleServiceChange(index, 'title', event.target.value)}\r\n+                          style={{ marginTop: 6, width: '100%', borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: '10px 12px', fontSize: 15, color: '#1E293B' }}\r\n+                        />\r\n+                      </label>\r\n+                      <label style={{ fontSize: 15, fontWeight: 600, color: '#1E293B', display: 'block' }}>\r\n+                        Summary\r\n+                        <textarea\r\n+                          value={service.summary || ''}\r\n+                          onChange={(event) => handleServiceChange(index, 'summary', event.target.value)}\r\n+                          rows={3}\r\n+                          style={{ marginTop: 6, width: '100%', borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: '10px 12px', fontSize: 15, color: '#1E293B', resize: 'vertical', minHeight: 48 }}\r\n+                        />\r\n+                      </label>\r\n+                      <label style={{ fontSize: 15, fontWeight: 600, color: '#1E293B', display: 'block' }}>\r\n+                        Base Price\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"1\"\r\n+                          value={service.basePrice ?? ''}\r\n+                          onChange={(event) => handleNumberChange(index, 'basePrice', event.target.value)}\r\n+                          style={{ marginTop: 6, width: '100%', borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: '10px 12px', fontSize: 15, color: '#1E293B' }}\r\n+                        />\r\n+                      </label>\r\n+                      <label style={{ fontSize: 15, fontWeight: 600, color: '#1E293B', display: 'block' }}>\r\n+                        Revive Price\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"1\"\r\n+                          value={service.revivePrice ?? ''}\r\n+                          onChange={(event) => handleNumberChange(index, 'revivePrice', event.target.value)}\r\n+                          style={{ marginTop: 6, width: '100%', borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: '10px 12px', fontSize: 15, color: '#1E293B' }}\r\n+                        />\r\n+                      </label>\r\n+                      <label style={{ fontSize: 15, fontWeight: 600, color: '#1E293B', display: 'block' }}>\r\n+                        Duration (minutes)\r\n+                        <input\r\n+                          type=\"number\"\r\n+                          min=\"0\"\r\n+                          step=\"15\"\r\n+                          value={service.durationMinutes ?? ''}\r\n+                          onChange={(event) => handleNumberChange(index, 'durationMinutes', event.target.value)}\r\n+                          style={{ marginTop: 6, width: '100%', borderRadius: 8, border: '1px solid #CBD5E1', background: '#F1F5F9', padding: '10px 12px', fontSize: 15, color: '#1E293B' }}\r\n+                        />\r\n+                      </label>\r\n+                    </div>\r\n+                    <label style={{ display: 'flex', alignItems: 'center', gap: 10, fontSize: 15, fontWeight: 600, color: '#1E293B', marginTop: 8 }}>\r\n+                      <input\r\n+                        type=\"checkbox\"\r\n+                        checked={Boolean(service.comingSoon)}\r\n+                        onChange={(event) => handleServiceChange(index, 'comingSoon', event.target.checked)}\r\n+                        style={{ width: 20, height: 20, borderRadius: 6, border: '1px solid #93C5FD', accentColor: '#2563EB' }}\r\n+                      />\r\n+                      Coming soon (hide from booking form)\r\n+                    </label>\r\n+                  </div>\r\n+                </div>\r\n+                <div style={{ display: 'grid', gap: 24, gridTemplateColumns: '1fr', marginTop: 24 }}>\r\n+                  <FeatureListEditor\r\n+                    label=\"Base Plan Features\"\r\n+                    features={service.baseFeatures || []}\r\n+                    onChange={(featureIndex, value) => handleFeatureChange(index, 'baseFeatures', featureIndex, value)}\r\n+                    onAdd={() => handleFeatureAdd(index, 'baseFeatures')}\r\n+                    onRemove={(featureIndex) => handleFeatureRemove(index, 'baseFeatures', featureIndex)}\r\n+                  />\r\n+                  <FeatureListEditor\r\n+                    label=\"Revive Plan Features\"\r\n+                    features={service.reviveFeatures || []}\r\n+                    onChange={(featureIndex, value) => handleFeatureChange(index, 'reviveFeatures', featureIndex, value)}\r\n+                    onAdd={() => handleFeatureAdd(index, 'reviveFeatures')}\r\n+                    onRemove={(featureIndex) => handleFeatureRemove(index, 'reviveFeatures', featureIndex)}\r\n+                  />\r\n+                </div>\r\n+              </section>\r\n+            ))}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </main>\r\n+  );\r\n+}\r\n"
                }
            ],
            "date": 1761336016111,
            "name": "Commit-0",
            "content": "import { useMemo, useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nconst emptyServiceTemplate = {\r\n  id: \"\",\r\n  title: \"\",\r\n  summary: \"\",\r\n  basePrice: null,\r\n  revivePrice: null,\r\n  durationMinutes: null,\r\n  comingSoon: false,\r\n  baseFeatures: [],\r\n  reviveFeatures: [],\r\n};\r\n\r\nfunction FeatureListEditor({ label, features, onChange, onAdd, onRemove }) {\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h4 className=\"text-sm font-semibold text-blue-800\">{label}</h4>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onAdd}\r\n          className=\"rounded-full border border-blue-300 px-3 py-1 text-xs font-semibold text-blue-600 hover:bg-blue-50\"\r\n        >\r\n          + Add item\r\n        </button>\r\n      </div>\r\n      {features.length === 0 && (\r\n        <p className=\"text-xs text-blue-500\">No items yet. Add one above.</p>\r\n      )}\r\n      <div className=\"space-y-2\">\r\n        {features.map((feature, index) => (\r\n          <div key={`${label}-${index}`} className=\"flex items-start gap-2\">\r\n            <textarea\r\n              value={feature}\r\n              onChange={(event) => onChange(index, event.target.value)}\r\n              rows={2}\r\n              className=\"w-full rounded-lg border border-blue-200 bg-white px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => onRemove(index)}\r\n              className=\"rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50\"\r\n            >\r\n              Remove\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function AdminServicesPage() {\r\n  const [services, setServices] = useState([]);\r\n  const [initialServices, setInitialServices] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function loadServices() {\r\n      setLoading(true);\r\n      setError(\"\");\r\n      try {\r\n        const response = await fetch(\"/api/services\");\r\n        if (!response.ok) {\r\n          throw new Error(\"Unable to load services.\");\r\n        }\r\n        const data = await response.json();\r\n        const fetched = Array.isArray(data.services) ? data.services : [];\r\n        setServices(fetched);\r\n        setInitialServices(fetched);\r\n      } catch (loadError) {\r\n        setError(loadError.message || \"Unable to load services.\");\r\n        setServices([]);\r\n        setInitialServices([]);\r\n      }\r\n      setLoading(false);\r\n    }\r\n\r\n    loadServices();\r\n  }, []);\r\n\r\n  const hasChanges = useMemo(() => {\r\n    return JSON.stringify(services) !== JSON.stringify(initialServices);\r\n  }, [services, initialServices]);\r\n\r\n  const handleServiceChange = (index, key, value) => {\r\n    setServices((prev) =>\r\n      prev.map((service, svcIndex) =>\r\n        svcIndex === index\r\n          ? {\r\n              ...service,\r\n              [key]: value,\r\n            }\r\n          : service\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleNumberChange = (index, key, value) => {\r\n    handleServiceChange(index, key, value === \"\" ? \"\" : Number(value));\r\n  };\r\n\r\n  const handleFeatureChange = (index, field, featureIndex, value) => {\r\n    setServices((prev) =>\r\n      prev.map((service, svcIndex) => {\r\n        if (svcIndex !== index) return service;\r\n        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n        list[featureIndex] = value;\r\n        return {\r\n          ...service,\r\n          [field]: list,\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleFeatureAdd = (index, field) => {\r\n    setServices((prev) =>\r\n      prev.map((service, svcIndex) => {\r\n        if (svcIndex !== index) return service;\r\n        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n        list.push(\"\");\r\n        return {\r\n          ...service,\r\n          [field]: list,\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleFeatureRemove = (index, field, featureIndex) => {\r\n    setServices((prev) =>\r\n      prev.map((service, svcIndex) => {\r\n        if (svcIndex !== index) return service;\r\n        const list = Array.isArray(service[field]) ? [...service[field]] : [];\r\n        list.splice(featureIndex, 1);\r\n        return {\r\n          ...service,\r\n          [field]: list,\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setServices(initialServices);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n  };\r\n\r\n  const handleAddNewService = () => {\r\n    setServices((prev) => [...prev, { ...emptyServiceTemplate, id: `service-${prev.length + 1}` }]);\r\n  };\r\n\r\n  const handleDeleteService = (index) => {\r\n    setServices((prev) => prev.filter((_, svcIndex) => svcIndex !== index));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    try {\r\n      const response = await fetch(\"/api/services\", {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ services }),\r\n      });\r\n\r\n      const data = await response.json().catch(() => ({}));\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || \"Failed to save services.\");\r\n      }\r\n\r\n      const updated = Array.isArray(data.services) ? data.services : services;\r\n      setServices(updated);\r\n      setInitialServices(updated);\r\n      setSuccess(\"Services updated successfully.\");\r\n    } catch (saveError) {\r\n      setError(saveError.message || \"Failed to save services.\");\r\n    }\r\n    setSaving(false);\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-blue-50 px-4 py-10 text-blue-900\">\r\n      <div className=\"mx-auto flex max-w-5xl flex-col gap-8\">\r\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Link\r\n              href=\"/adminDashboard\"\r\n              className=\"rounded-lg border border-blue-200 bg-white px-4 py-2 text-sm font-semibold text-blue-700 shadow-sm transition-colors hover:bg-blue-50\"\r\n            >\r\n              ← Back to Dashboard\r\n            </Link>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleAddNewService}\r\n              className=\"rounded-lg border border-green-200 bg-green-50 px-4 py-2 text-sm font-semibold text-green-700 transition-colors hover:bg-green-100\"\r\n            >\r\n              Add New Service\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleReset}\r\n              disabled={!hasChanges || saving}\r\n              className=\"rounded-lg border border-blue-200 px-4 py-2 text-sm font-semibold text-blue-600 transition-colors hover:bg-blue-50 disabled:cursor-not-allowed disabled:opacity-50\"\r\n            >\r\n              Reset\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleSave}\r\n              disabled={!hasChanges || saving}\r\n              className=\"rounded-lg bg-blue-600 px-6 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50\"\r\n            >\r\n              {saving ? \"Saving...\" : \"Save Changes\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <header className=\"rounded-2xl border border-blue-200 bg-white p-6 shadow\">\r\n          <h1 className=\"text-2xl font-bold\" style={{ color: \"#000\" }}>\r\n            Services & Pricing Editor\r\n          </h1>\r\n          <p className=\"mt-2 text-sm text-blue-700\">\r\n            Update prices, toggle availability, and adjust bullet points for each plan. Changes are saved directly to\r\n            <code className=\"ml-1 rounded bg-blue-100 px-2 py-0.5 text-xs text-blue-800\">data/services.js</code>.\r\n          </p>\r\n          {error && <div className=\"mt-3 rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700\">{error}</div>}\r\n          {success && <div className=\"mt-3 rounded-lg border border-green-200 bg-green-50 px-4 py-2 text-sm text-green-700\">{success}</div>}\r\n        </header>\r\n\r\n        {loading ? (\r\n          <div className=\"rounded-2xl border border-blue-200 bg-white p-10 text-center text-blue-600 shadow\">\r\n            Loading services...\r\n          </div>\r\n        ) : services.length === 0 ? (\r\n          <div className=\"rounded-2xl border border-blue-200 bg-white p-10 text-center text-blue-600 shadow\">\r\n            No services found. Add a new service to get started.\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-8\">\r\n            {services.map((service, index) => (\r\n              <section key={service.id || index} className=\"rounded-2xl border border-blue-200 bg-white p-6 shadow\">\r\n                <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\r\n                  <div className=\"space-y-4 sm:flex-1\">\r\n                    <div className=\"grid gap-3 sm:grid-cols-2\">\r\n                      <label className=\"text-sm font-semibold text-blue-800\">\r\n                        Service ID\r\n                        <input\r\n                          type=\"text\"\r\n                          value={service.id}\r\n                          onChange={(event) => handleServiceChange(index, \"id\", event.target.value)}\r\n                          className=\"mt-1 w-full rounded-lg border border-blue-200 px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n                        />\r\n                      </label>\r\n                      <label className=\"text-sm font-semibold text-blue-800\">\r\n                        Title\r\n                        <input\r\n                          type=\"text\"\r\n                          value={service.title || \"\"}\r\n                          onChange={(event) => handleServiceChange(index, \"title\", event.target.value)}\r\n                          className=\"mt-1 w-full rounded-lg border border-blue-200 px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n                        />\r\n                      </label>\r\n                      <label className=\"text-sm font-semibold text-blue-800 sm:col-span-2\">\r\n                        Summary\r\n                        <textarea\r\n                          value={service.summary || \"\"}\r\n                          onChange={(event) => handleServiceChange(index, \"summary\", event.target.value)}\r\n                          rows={3}\r\n                          className=\"mt-1 w-full rounded-lg border border-blue-200 px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n                        />\r\n                      </label>\r\n                      <label className=\"text-sm font-semibold text-blue-800\">\r\n                        Base Price\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          step=\"1\"\r\n                          value={service.basePrice ?? \"\"}\r\n                          onChange={(event) => handleNumberChange(index, \"basePrice\", event.target.value)}\r\n                          className=\"mt-1 w-full rounded-lg border border-blue-200 px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n                        />\r\n                      </label>\r\n                      <label className=\"text-sm font-semibold text-blue-800\">\r\n                        Revive Price\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          step=\"1\"\r\n                          value={service.revivePrice ?? \"\"}\r\n                          onChange={(event) => handleNumberChange(index, \"revivePrice\", event.target.value)}\r\n                          className=\"mt-1 w-full rounded-lg border border-blue-200 px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n                        />\r\n                      </label>\r\n                      <label className=\"text-sm font-semibold text-blue-800\">\r\n                        Duration (minutes)\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"0\"\r\n                          step=\"15\"\r\n                          value={service.durationMinutes ?? \"\"}\r\n                          onChange={(event) => handleNumberChange(index, \"durationMinutes\", event.target.value)}\r\n                          className=\"mt-1 w-full rounded-lg border border-blue-200 px-3 py-2 text-sm text-blue-900 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100\"\r\n                        />\r\n                      </label>\r\n                    </div>\r\n                    <label className=\"flex items-center gap-2 text-sm font-semibold text-blue-800\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={Boolean(service.comingSoon)}\r\n                        onChange={(event) => handleServiceChange(index, \"comingSoon\", event.target.checked)}\r\n                        className=\"h-4 w-4 rounded border border-blue-300 text-blue-600 focus:ring-blue-500\"\r\n                      />\r\n                      Coming soon (hide from booking form)\r\n                    </label>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => handleDeleteService(index)}\r\n                    className=\"self-start rounded-lg border border-red-200 px-3 py-2 text-xs font-semibold text-red-600 hover:bg-red-50\"\r\n                  >\r\n                    Delete service\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"mt-6 grid gap-6 md:grid-cols-2\">\r\n                  <FeatureListEditor\r\n                    label=\"Base Plan Features\"\r\n                    features={service.baseFeatures || []}\r\n                    onChange={(featureIndex, value) => handleFeatureChange(index, \"baseFeatures\", featureIndex, value)}\r\n                    onAdd={() => handleFeatureAdd(index, \"baseFeatures\")}\r\n                    onRemove={(featureIndex) => handleFeatureRemove(index, \"baseFeatures\", featureIndex)}\r\n                  />\r\n                  <FeatureListEditor\r\n                    label=\"Revive Plan Features\"\r\n                    features={service.reviveFeatures || []}\r\n                    onChange={(featureIndex, value) => handleFeatureChange(index, \"reviveFeatures\", featureIndex, value)}\r\n                    onAdd={() => handleFeatureAdd(index, \"reviveFeatures\")}\r\n                    onRemove={(featureIndex) => handleFeatureRemove(index, \"reviveFeatures\", featureIndex)}\r\n                  />\r\n                </div>\r\n              </section>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"
        }
    ]
}
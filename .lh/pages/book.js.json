{
    "sourceFile": "pages/book.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1761325977460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1761327702644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,8 @@\n import { useEffect, useMemo, useState } from \"react\";\r\n import dynamic from \"next/dynamic\";\r\n import { useRouter } from \"next/router\";\r\n import Navigation from \"@/components/Navigation\";\r\n-import FAQ from \"@/components/FAQ\";\r\n import Footer from \"@/components/Footer\";\r\n import { SERVICES, getServiceById } from \"@/data/services\";\r\n \r\n const Booking = dynamic(() => import(\"@/components/Booking\"), { ssr: false });\r\n@@ -16,16 +15,20 @@\n     return getServiceById(serviceId) || null;\r\n   }, [serviceId]);\r\n \r\n   const [showBooking, setShowBooking] = useState(false);\r\n+  const [plan, setPlan] = useState(\"base\");\r\n \r\n   useEffect(() => {\r\n-    if (selectedService && !selectedService.comingSoon) {\r\n-      setShowBooking(true);\r\n-    }\r\n-  }, [selectedService]);\r\n+    setPlan(\"base\");\r\n+  }, [selectedService?.id]);\r\n \r\n   useEffect(() => {\r\n+    if (!router.isReady) return;\r\n+    window.scrollTo({ top: 0, behavior: \"auto\" });\r\n+  }, [router.isReady]);\r\n+\r\n+  useEffect(() => {\r\n     document.body.style.overflow = showBooking ? \"hidden\" : \"auto\";\r\n     return () => {\r\n       document.body.style.overflow = \"auto\";\r\n     };\r\n@@ -55,11 +58,40 @@\n               </span>\r\n               <h1 className=\"text-3xl sm:text-4xl font-bold\" style={{ color: \"#000\" }}>\r\n                 {selectedService.title}\r\n               </h1>\r\n-              <p className=\"text-lg text-blue-700 leading-relaxed\">\r\n-                {selectedService.summary || \"Schedule your mobile detailing appointment in just a few steps.\"}\r\n-              </p>\r\n+              <div className=\"bg-blue-50 border border-blue-200 rounded-full p-1 flex items-center gap-1 w-full sm:w-auto\">\r\n+                <button\r\n+                  type=\"button\"\r\n+                  onClick={() => setPlan(\"base\")}\r\n+                  className={`flex-1 sm:flex-none px-5 py-2 rounded-full text-sm font-semibold transition ${\r\n+                    plan === \"base\"\r\n+                      ? \"bg-white text-blue-700 shadow\"\r\n+                      : \"text-blue-600 hover:text-blue-700\"\r\n+                  }`}\r\n+                >\r\n+                  Base\r\n+                </button>\r\n+                <button\r\n+                  type=\"button\"\r\n+                  onClick={() => setPlan(\"revive\")}\r\n+                  className={`flex-1 sm:flex-none px-5 py-2 rounded-full text-sm font-semibold transition ${\r\n+                    plan === \"revive\"\r\n+                      ? \"bg-white text-blue-700 shadow\"\r\n+                      : \"text-blue-600 hover:text-blue-700\"\r\n+                  }`}\r\n+                  disabled={selectedService.comingSoon || typeof selectedService.revivePrice !== \"number\"}\r\n+                >\r\n+                  Revive\r\n+                </button>\r\n+              </div>\r\n+              <div className=\"text-xl font-semibold text-blue-700\">\r\n+                {plan === \"revive\" && typeof selectedService.revivePrice === \"number\"\r\n+                  ? `$${selectedService.revivePrice}`\r\n+                  : typeof selectedService.basePrice === \"number\"\r\n+                  ? `$${selectedService.basePrice}`\r\n+                  : \"Contact us\"}\r\n+              </div>\r\n               {selectedService.features?.length ? (\r\n                 <ul className=\"grid sm:grid-cols-2 gap-3 text-blue-800 text-sm sm:text-base\">\r\n                   {selectedService.features.map((feature) => (\r\n                     <li key={feature} className=\"flex items-start gap-2\">\r\n@@ -68,13 +100,8 @@\n                     </li>\r\n                   ))}\r\n                 </ul>\r\n               ) : null}\r\n-              {typeof selectedService.basePrice === \"number\" && (\r\n-                <div className=\"text-xl font-semibold text-blue-700\">\r\n-                  Starting at ${selectedService.basePrice}\r\n-                </div>\r\n-              )}\r\n               {!selectedService.comingSoon && (\r\n                 <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\r\n                   <button\r\n                     type=\"button\"\r\n@@ -115,9 +142,8 @@\n             )}\r\n           </div>\r\n         )}\r\n       </section>\r\n-      <FAQ />\r\n       <Footer />\r\n       {showBooking && selectedService && !selectedService.comingSoon && (\r\n         <Booking service={selectedService} onClose={handleCloseBooking} />\r\n       )}\r\n"
                },
                {
                    "date": 1761328127193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,27 +58,35 @@\n               </span>\r\n               <h1 className=\"text-3xl sm:text-4xl font-bold\" style={{ color: \"#000\" }}>\r\n                 {selectedService.title}\r\n               </h1>\r\n-              <div className=\"bg-blue-50 border border-blue-200 rounded-full p-1 flex items-center gap-1 w-full sm:w-auto\">\r\n+              <div className=\"relative grid grid-cols-2 bg-blue-50 border border-blue-200 rounded-full overflow-hidden w-full sm:w-auto\">\r\n+                <div\r\n+                  className=\"absolute inset-y-0 w-1/2 rounded-full bg-white shadow transition-transform duration-300 ease-out\"\r\n+                  style={{ transform: plan === \"revive\" ? \"translateX(100%)\" : \"translateX(0%)\" }}\r\n+                  aria-hidden=\"true\"\r\n+                />\r\n                 <button\r\n                   type=\"button\"\r\n                   onClick={() => setPlan(\"base\")}\r\n-                  className={`flex-1 sm:flex-none px-5 py-2 rounded-full text-sm font-semibold transition ${\r\n-                    plan === \"base\"\r\n-                      ? \"bg-white text-blue-700 shadow\"\r\n-                      : \"text-blue-600 hover:text-blue-700\"\r\n+                  className={`relative z-10 px-5 py-2 text-sm font-semibold transition-colors ${\r\n+                    plan === \"base\" ? \"text-blue-700\" : \"text-blue-500 hover:text-blue-600\"\r\n                   }`}\r\n                 >\r\n                   Base\r\n                 </button>\r\n                 <button\r\n                   type=\"button\"\r\n-                  onClick={() => setPlan(\"revive\")}\r\n-                  className={`flex-1 sm:flex-none px-5 py-2 rounded-full text-sm font-semibold transition ${\r\n-                    plan === \"revive\"\r\n-                      ? \"bg-white text-blue-700 shadow\"\r\n-                      : \"text-blue-600 hover:text-blue-700\"\r\n+                  onClick={() => {\r\n+                    if (selectedService.comingSoon || typeof selectedService.revivePrice !== \"number\") return;\r\n+                    setPlan(\"revive\");\r\n+                  }}\r\n+                  className={`relative z-10 px-5 py-2 text-sm font-semibold transition-colors ${\r\n+                    plan === \"revive\" ? \"text-blue-700\" : \"text-blue-500 hover:text-blue-600\"\r\n+                  } ${\r\n+                    selectedService.comingSoon || typeof selectedService.revivePrice !== \"number\"\r\n+                      ? \"opacity-50 cursor-not-allowed\"\r\n+                      : \"\"\r\n                   }`}\r\n                   disabled={selectedService.comingSoon || typeof selectedService.revivePrice !== \"number\"}\r\n                 >\r\n                   Revive\r\n"
                },
                {
                    "date": 1761328323338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,11 +98,11 @@\n                   : typeof selectedService.basePrice === \"number\"\r\n                   ? `$${selectedService.basePrice}`\r\n                   : \"Contact us\"}\r\n               </div>\r\n-              {selectedService.features?.length ? (\r\n+              {(plan === \"revive\" ? selectedService.reviveFeatures : selectedService.baseFeatures)?.length ? (\r\n                 <ul className=\"grid sm:grid-cols-2 gap-3 text-blue-800 text-sm sm:text-base\">\r\n-                  {selectedService.features.map((feature) => (\r\n+                  {(plan === \"revive\" ? selectedService.reviveFeatures : selectedService.baseFeatures).map((feature) => (\r\n                     <li key={feature} className=\"flex items-start gap-2\">\r\n                       <span className=\"text-blue-500 mt-1\">â€¢</span>\r\n                       <span>{feature}</span>\r\n                     </li>\r\n"
                }
            ],
            "date": 1761325977460,
            "name": "Commit-0",
            "content": "import { useEffect, useMemo, useState } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useRouter } from \"next/router\";\r\nimport Navigation from \"@/components/Navigation\";\r\nimport FAQ from \"@/components/FAQ\";\r\nimport Footer from \"@/components/Footer\";\r\nimport { SERVICES, getServiceById } from \"@/data/services\";\r\n\r\nconst Booking = dynamic(() => import(\"@/components/Booking\"), { ssr: false });\r\n\r\nexport default function BookPage() {\r\n  const router = useRouter();\r\n  const { service: serviceId } = router.query;\r\n  const selectedService = useMemo(() => {\r\n    if (typeof serviceId !== \"string\") return null;\r\n    return getServiceById(serviceId) || null;\r\n  }, [serviceId]);\r\n\r\n  const [showBooking, setShowBooking] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (selectedService && !selectedService.comingSoon) {\r\n      setShowBooking(true);\r\n    }\r\n  }, [selectedService]);\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = showBooking ? \"hidden\" : \"auto\";\r\n    return () => {\r\n      document.body.style.overflow = \"auto\";\r\n    };\r\n  }, [showBooking]);\r\n\r\n  const handleOpenBooking = () => {\r\n    if (selectedService && !selectedService.comingSoon) {\r\n      setShowBooking(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseBooking = () => {\r\n    setShowBooking(false);\r\n  };\r\n\r\n  const fallbackService = SERVICES.find((svc) => !svc.comingSoon);\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-blue-50 text-blue-900\">\r\n      <Navigation />\r\n      <section className=\"max-w-4xl mx-auto px-4 py-20\">\r\n        {selectedService ? (\r\n          <div className=\"bg-white border border-blue-100 rounded-3xl shadow-xl overflow-hidden\">\r\n            <div className=\"px-6 sm:px-10 py-10 space-y-6\">\r\n              <span className=\"inline-flex px-4 py-1 rounded-full bg-blue-100 text-blue-700 text-sm font-semibold uppercase tracking-widest\">\r\n                {selectedService.comingSoon ? \"Coming Soon\" : \"Book Now\"}\r\n              </span>\r\n              <h1 className=\"text-3xl sm:text-4xl font-bold\" style={{ color: \"#000\" }}>\r\n                {selectedService.title}\r\n              </h1>\r\n              <p className=\"text-lg text-blue-700 leading-relaxed\">\r\n                {selectedService.summary || \"Schedule your mobile detailing appointment in just a few steps.\"}\r\n              </p>\r\n              {selectedService.features?.length ? (\r\n                <ul className=\"grid sm:grid-cols-2 gap-3 text-blue-800 text-sm sm:text-base\">\r\n                  {selectedService.features.map((feature) => (\r\n                    <li key={feature} className=\"flex items-start gap-2\">\r\n                      <span className=\"text-blue-500 mt-1\">â€¢</span>\r\n                      <span>{feature}</span>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              ) : null}\r\n              {typeof selectedService.basePrice === \"number\" && (\r\n                <div className=\"text-xl font-semibold text-blue-700\">\r\n                  Starting at ${selectedService.basePrice}\r\n                </div>\r\n              )}\r\n              {!selectedService.comingSoon && (\r\n                <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleOpenBooking}\r\n                    className=\"w-full sm:w-auto px-6 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold\"\r\n                  >\r\n                    Begin Booking\r\n                  </button>\r\n                  <a\r\n                    href=\"tel:+17828275010\"\r\n                    className=\"w-full sm:w-auto px-6 py-3 rounded-lg border border-blue-300 text-blue-700 hover:bg-blue-100 font-semibold text-center\"\r\n                  >\r\n                    Call +1 (782) 827-5010\r\n                  </a>\r\n                </div>\r\n              )}\r\n              {selectedService.comingSoon && (\r\n                <div className=\"rounded-xl border border-dashed border-blue-200 bg-blue-50/70 px-4 py-6 text-blue-700 text-sm\">\r\n                  Subscriptions are almost here. Weâ€™ll share flexible plans that keep your vehicle spotless on your schedule.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white border border-blue-100 rounded-3xl shadow-lg p-10 text-center space-y-6\">\r\n            <h1 className=\"text-3xl font-bold\" style={{ color: \"#000\" }}>Select a service to get started</h1>\r\n            <p className=\"text-blue-700\">\r\n              We couldnâ€™t find the package you were looking for. Choose one of our detailing options to continue.\r\n            </p>\r\n            {fallbackService && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => router.push({ pathname: \"/book\", query: { service: fallbackService.id } })}\r\n                className=\"px-6 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-semibold\"\r\n              >\r\n                View {fallbackService.title}\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </section>\r\n      <FAQ />\r\n      <Footer />\r\n      {showBooking && selectedService && !selectedService.comingSoon && (\r\n        <Booking service={selectedService} onClose={handleCloseBooking} />\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"
        }
    ]
}
{
    "sourceFile": "pages/api/auth/check.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1761927995081,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1761927995081,
            "name": "Commit-0",
            "content": "import { isAuthenticated } from '../../../lib/auth';\r\n\r\n/**\r\n * Check Authentication API\r\n * GET /api/auth/check\r\n * \r\n * Verify if current session is valid\r\n */\r\nexport default async function handler(req, res) {\r\n  // Only allow GET\r\n  if (req.method !== 'GET') {\r\n    return res.status(405).json({ error: 'Method not allowed' });\r\n  }\r\n  \r\n  try {\r\n    const authenticated = isAuthenticated(req);\r\n    \r\n    if (authenticated) {\r\n      return res.status(200).json({ \r\n        authenticated: true,\r\n        message: 'Session is valid'\r\n      });\r\n    } else {\r\n      return res.status(401).json({ \r\n        authenticated: false,\r\n        message: 'Not authenticated'\r\n      });\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('[auth/check] error:', error);\r\n    return res.status(500).json({ error: 'Internal server error' });\r\n  }\r\n}\r\n"
        }
    ]
}